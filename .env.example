# Mail Service 环境变量配置
# 复制此文件为 .env 并填写实际值

# ========== 应用环境 ==========
# 可选值: test, dev, staging, prod
APP_ENV=dev
APP_NAME=MailService
APP_VERSION=1.0.0
DEBUG=true

# ========== API 认证配置 ==========
# API Key 用于保护所有 API 端点
# 生产环境必须设置强密钥！
API_KEY=your-secure-api-key-here

# ========== 数据库配置 ==========
# 开发环境 SQLite
DEV_DB_PATH=data/dev.db

# Staging 环境（Supabase）
# STAGING_DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres
# STAGING_DB_POOL_SIZE=10
# STAGING_DB_MAX_OVERFLOW=20

# 生产环境（Supabase）
# PROD_DATABASE_URL=postgresql://postgres:password@db.yyy.supabase.co:5432/postgres
# PROD_DB_POOL_SIZE=20
# PROD_DB_MAX_OVERFLOW=40

# ========== AI 配置 ==========
# OpenAI API Key（必须设置）
OPENAI_API_KEY=sk-your-api-key-here
# OpenAI API 地址（可选，支持兼容 API）
OPENAI_API_BASE=https://api.openai.com/v1
# 使用的模型
OPENAI_MODEL=gpt-4o-mini
# AI 提取超时时间（秒）
AI_EXTRACTION_TIMEOUT=30.0

# ========== 日志配置 ==========
# 日志后端根据 APP_ENV 自动选择：
#   - test/dev → loguru（本地日志）
#   - staging/prod → logfire（云端监控）
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# ========== 邮件服务配置 ==========
# 邮件轮询间隔（秒）
MAIL_POLLING_INTERVAL=5

# ========== Webhook 配置 ==========
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAYS=1,5,15
